<div id="register-new-user" v-cloak>

  <%- partial('../../partials/navbar.ejs') %>
  <%- partial('../../partials/mainSidebar.ejs') %>

  <div class="main-content">
    <section class="section">

      <h1 class="section-header">
        <div><%= i18n('Users.new') %></div>
      </h1>

      <section class="section-body">

        <div class="row mt-12">
          <div class="col-12">
            <div class="card">
              <div class="card-body">
                <section class="row">
                  <div class="col-sm-4">
                    <div class="form-group row">
                      <div class="col-sm-4">Estado: </div>
                      <div class="col-sm-8">
                        <select class="form-control form-control-sm" style="font-size: 13px;height: 30px;line-height: 30px;padding: 0px 10px 2px 9px;margin: 0px;"
                          v-model="newUser.status">
                          <option value="N" selected>Nuevo</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-4">
                    <div class="form-group row">
                      <div class="col-sm-3">Rol:</div>
                      <div class="col-sm-9">
                        <select class="form-control form-control-sm" style="font-size: 13px;height: 30px;line-height: 30px;padding: 0px 10px 2px 9px;margin: 0px;" v-model="newUser.role">
                          <option value="" disabled selected>Seleccione una:</option>
                          <% if(me.role < 1) { %>
                          <option value="0">00 - Super Admin</option>
                          <% }
                          if (me.role < 3) { %>
                          <option value="1">01 - Administrador</option>
                          <option value="2">02 - Supervisor</option>
                          <% } %>
                          <option value="3">03 - Secretario</option>
                          <option value="4">04 - Vendedores</option>
                          <option value="5" disabled>05 - </option>
                          <option value="6" disabled>06 - </option>
                          <option value="7">07 - Usuario</option>
                          <option value="8">08 - Client</option>
                          <option value="9">09 - Guest</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-lg-4">
                    <% if(me.isSuperAdmin) { %>
                    <div class="form-group row">
                      <div class="col-sm-7">Super Admin</div>
                      <div class="col-sm-5">
                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" id="gridCheck1" v-model="newUser.isSuperAdmin">
                          <label class="form-check-label" for="gridCheck1"></label>
                        </div>
                      </div>
                    </div>
                    <% } %>
                  </div>
                </section>

                <div class="form-divider">Datos:</div>
                <section class="row">
                  <div class="col-sm-12 col-lg-4">
                    <div class="form-group">
                      <label title="Numero de Cedula o Identifiacación">Numero Id.</label>
                      <input type="text" class="form-control form-control-sm" v-model="newUser.identification" placeholder="Numero de Cedula" v-bind:class="[valForm.identification]">
                      <div class="invalid-feedback">Identificación Invalida o Repetida.</div>
                    </div>
                  </div>
                </section>
                <section class="row">
                  <div class="col-sm-12 col-lg-4">
                    <div class="form-group">
                      <label>Nombres</label>
                      <input type="text" class="form-control form-control-sm" v-model="newUser.name">
                    </div>
                  </div>
                  <div class="col-sm-12 col-lg-4">
                    <div class="form-group">
                      <label>Apellidos </label>
                      <input type="text" class="form-control form-control-sm" v-model="newUser.lastName">
                    </div>
                  </div>
                  <div class="col-sm-12 col-lg-4">
                    <div class="form-group">
                      <label>E-mail</label>
                      <input type="text" class="form-control form-control-sm" v-model="newUser.emailAddress" v-bind:class="[valForm.emailAddress]">
                      <div class="invalid-feedback">E-Mail Invalido o Repetido.</div>
                    </div>
                  </div>
                </section>

                <section class="row">
                  <div class="col-sm-12 col-lg-4">
                    <div class="form-group">
                      <label>Telefono</label>
                      <input type="text" class="form-control form-control-sm" v-model="newUser.phone" v-bind:class="[valForm.phone]">
                      <div class="invalid-feedback">Telefono Invalido o Repetido.</div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-lg-4">
                    <div class="form-group">
                      <label>E-mail Status:</label>
                      <select class="form-control form-control-sm" v-model="newUser.emailStatus" style="font-size: 13px;height: 30px;line-height: 30px;padding: 0px 10px 2px 9px;margin: 0px;">
                        <option value="" disabled selected>Seleccionar unar:</option>
                        <option value="unconfirmed">No Confirmado</option>
                        <option value="changeRequested">Cambio Requisito</option>
                        <option value="confirmed">Confirmado</option>
                      </select>
                    </div>
                  </div>
                </section>

                <div class="form-divider">Contraseña</div>
                <section class="row">
                  <div class="col-sm-12 col-lg-4">
                    <div class="form-group">
                      <label>Ingrese Contraseña Nueva:</label>
                      <input type="password" class="form-control form-control-sm" v-on:keyup="validatePassword" v-model="newUser.password" v-bind:class="[valForm.password.valid]">
                      <div class="invalid-feedback" v-show="valForm.password.mayus">- Introdusca al menos 1 letra Mayuscula.</div>
                      <div class="invalid-feedback" v-show="valForm.password.minus">- Introdusca al menos 1 letra Minuscula.</div>
                      <div class="invalid-feedback" v-show="valForm.password.numb">- Introdusca al menos 1 Numero.</div>
                      <div class="invalid-feedback" v-show="valForm.password.min">- Minimo 8 caracteres</div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-lg-4">
                    <div class="form-group">
                      <label>Power Password</label>
                      <div class="card-progressbar" style="padding-top: 8px;">
                        <div class="progress" style="height:15px;">
                          <div class="progress-bar progress-bar-striped" v-bind:class="[newUser.passwordPower]" v-bind:style="{width: newUser.passwordPowerStyle.width+'%'}" role="progressbar" ></div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-12 col-lg-4">
                    <div class="form-group">
                      <label>Genere Contraseña Aleatoria</label>
                      <button class="btn btn-sm btn-success">Generar</button>
                      <button class="btn btn-sm btn-warning">Borrar</button>
                    </div>
                  </div>
                </section>


                <section class="row">
                  <div class="col-sm-12">
                    <div class="form-group">
                      <label>Agregar Usuario</label>
                      <button class="btn btn-primary btn-block btn-sm">Guardar</button>
                    </div>
                  </div>
                </section>
              </div>
            </div>
          </div>
        </div>

      </section>
    </section>
  </div>

  <%- partial('../../partials/footer.ejs') %>
</div>
<%- /* Expose server-rendered data as window.SAILS_LOCALS :: */ exposeLocalsToBrowser() %>
